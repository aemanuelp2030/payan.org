<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Countdown | Emanuel Payan</title>
  <meta name="description" content="Countdown timer with years, months, days, hours, minutes, and seconds." />
  <style>
    :root{
      --bg:#000;
      --fg:#fff;
      --accent:#007BFF;
      --muted:rgba(255,255,255,.72);
      --border:rgba(255,255,255,.14);
      --shadow:0 10px 30px rgba(0,0,0,.45);
    }

    html,body{
      height:100%;
      margin:0;
      background:var(--bg);
      color:var(--fg);
      font-family:-apple-system,BlinkMacSystemFont,"SF Pro Display","SF Pro Text","Helvetica Neue",Helvetica,Arial,sans-serif;
      -webkit-font-smoothing:antialiased;
    }

    .wrap{
      min-height:100%;
      display:grid;
      place-items:center;
      padding:2rem;
      text-align:center;
    }

    .card{
      width:min(980px, 100%);
      border-radius:24px;
      padding:clamp(18px,3vw,34px);
      box-shadow:var(--shadow);
      border:1px solid var(--border);
    }

    h1{
      margin:0 0 1rem 0;
      font-size:clamp(22px, 3.4vw, 40px);
      letter-spacing:.2px;
    }

    .sub{
      margin:0 0 1.6rem 0;
      color:var(--muted);
      font-weight:600;
      letter-spacing:.02em;
    }

    .grid{
      display:grid;
      grid-template-columns: repeat(6, minmax(0, 1fr));
      gap:12px;
    }

    .tile{
      border:1px solid var(--border);
      border-radius:18px;
      padding:14px 10px;
      background:rgba(255,255,255,.03);
    }

    .val{
      font-size:clamp(22px, 4.2vw, 48px);
      line-height:1;
      font-weight:800;
      text-shadow:0 0 18px rgba(0,123,255,.18);
    }

    .lab{
      margin-top:8px;
      font-size:12px;
      letter-spacing:.14em;
      text-transform:uppercase;
      color:var(--muted);
      font-weight:700;
    }

    .accent{
      color:var(--accent);
    }

    .row{
      display:flex;
      justify-content:center;
      gap:12px;
      flex-wrap:wrap;
      margin-top:16px;
      color:var(--muted);
      font-weight:600;
    }

    input{
      background:#000;
      color:var(--fg);
      border:1px solid var(--border);
      border-radius:12px;
      padding:10px 12px;
      font-weight:700;
      width:min(420px, 100%);
    }

    button{
      background:var(--accent);
      color:#fff;
      border:none;
      border-radius:12px;
      padding:10px 14px;
      font-weight:800;
      cursor:pointer;
    }

    button:hover{ opacity:.9; }

    @media (max-width: 720px){
      .grid{ grid-template-columns: repeat(3, minmax(0, 1fr)); }
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <h1><span class="accent">Countdown</span></h1>
      <p class="sub" id="targetText">Target: â€”</p>

      <div class="grid" aria-live="polite">
        <div class="tile"><div class="val" id="y">0</div><div class="lab">Years</div></div>
        <div class="tile"><div class="val" id="mo">0</div><div class="lab">Months</div></div>
        <div class="tile"><div class="val" id="d">0</div><div class="lab">Days</div></div>
        <div class="tile"><div class="val" id="h">0</div><div class="lab">Hours</div></div>
        <div class="tile"><div class="val" id="mi">0</div><div class="lab">Minutes</div></div>
        <div class="tile"><div class="val" id="s">0</div><div class="lab">Seconds</div></div>
      </div>

      <div class="row">
        <input id="targetInput" placeholder="YYYY-MM-DDTHH:MM:SS (e.g. 2030-01-01T00:00:00)" />
        <button id="setBtn">Set</button>
      </div>
      <div class="row" style="justify-content:center;">
        <span id="status"></span>
      </div>
    </div>
  </div>

<script>
(() => {
  // Set your default target here:
  // Use local time. Example: '2026-12-31T23:59:59'
  let targetISO = '2030-01-01T00:00:00';

  const el = {
    y: document.getElementById('y'),
    mo: document.getElementById('mo'),
    d: document.getElementById('d'),
    h: document.getElementById('h'),
    mi: document.getElementById('mi'),
    s: document.getElementById('s'),
    targetText: document.getElementById('targetText'),
    status: document.getElementById('status'),
    input: document.getElementById('targetInput'),
    btn: document.getElementById('setBtn')
  };

  function pad2(n){ return String(n).padStart(2, '0'); }

  function formatLocal(dt){
    const y = dt.getFullYear();
    const m = pad2(dt.getMonth()+1);
    const d = pad2(dt.getDate());
    const hh = pad2(dt.getHours());
    const mm = pad2(dt.getMinutes());
    const ss = pad2(dt.getSeconds());
    return `${y}-${m}-${d} ${hh}:${mm}:${ss}`;
  }

  // Calendar-accurate breakdown: years/months/days/hours/minutes/seconds
  // Uses a stepwise "add units until next would exceed target" approach.
  function diffParts(now, target){
    if (target <= now) return {years:0, months:0, days:0, hours:0, minutes:0, seconds:0, done:true};

    let cursor = new Date(now.getTime());
    let years = 0, months = 0, days = 0, hours = 0, minutes = 0, seconds = 0;

    const addYears = (dt, n) => new Date(dt.getFullYear()+n, dt.getMonth(), dt.getDate(), dt.getHours(), dt.getMinutes(), dt.getSeconds(), dt.getMilliseconds());
    const addMonths = (dt, n) => new Date(dt.getFullYear(), dt.getMonth()+n, dt.getDate(), dt.getHours(), dt.getMinutes(), dt.getSeconds(), dt.getMilliseconds());

    while (addYears(cursor, 1) <= target) { cursor = addYears(cursor, 1); years++; }
    while (addMonths(cursor, 1) <= target) { cursor = addMonths(cursor, 1); months++; }

    const remMs = target - cursor;
    const totalSeconds = Math.floor(remMs / 1000);

    days = Math.floor(totalSeconds / 86400);
    let r = totalSeconds % 86400;

    hours = Math.floor(r / 3600);
    r = r % 3600;

    minutes = Math.floor(r / 60);
    seconds = r % 60;

    return {years, months, days, hours, minutes, seconds, done:false};
  }

  function setTarget(iso){
    const dt = new Date(iso);
    if (isNaN(dt.getTime())) {
      el.status.textContent = 'Invalid date format.';
      return false;
    }
    targetISO = iso;
    el.status.textContent = '';
    el.targetText.textContent = `Target: ${formatLocal(dt)} (local time)`;
    return true;
  }

  function tick(){
    const now = new Date();
    const target = new Date(targetISO);

    if (isNaN(target.getTime())) return;

    const p = diffParts(now, target);

    el.y.textContent  = p.years;
    el.mo.textContent = p.months;
    el.d.textContent  = p.days;
    el.h.textContent  = p.hours;
    el.mi.textContent = p.minutes;
    el.s.textContent  = p.seconds;

    if (p.done) el.status.textContent = 'Time reached.';
  }

  el.btn.addEventListener('click', () => {
    const v = el.input.value.trim();
    if (!v) return;
    setTarget(v);
  });

  // init
  setTarget(targetISO);
  tick();
  setInterval(tick, 250);
})();
</script>
</body>
</html>
